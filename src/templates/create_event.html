 {% extends "base.html" %}
{% block head %}
<!--this is for the jquery -->
<script type = "text/javascript"  src = "https://code.jquery.com/jquery-2.1.1.min.js"></script>
{% endblock %}
{% block create %}active{% endblock %}
{% block main %}
<!-- container -->
<div class="container" ng-app='getData' ng-controller = 'ctrl'>
    <div class="row">
        <!--Grid column-->
        <div class="mt-5 col-md-12">
        </div>
        <!--Grid column-->
    </div><p>

    <form class = "col s12 needs-validation" id ="regForm" action="localhost:5000/create" >
    <!-- first info -->

    <div class = "row  mt-5 col-md-10 ml-5 mr-5  card " id = "first_info">
        <div class="row justify-content-center mt-5 mb-5 ">

            <h1> Create your event:</h1>

        </div>
        <div class="row justify-content-center ">

            <div class = "col-md ml-5 mr-5 justify-content-center">
                <div class="md-form mb-3 mt-3 ml-3  mr-3">
                    <label for = "event_type" >Event Type </label>
                    <input placeholder = "Enter Event Type" value = "" id = "event_type" type = "text" class = "active validate col-md-auto"  ng-model = "eventType" required />
                </div>
            </div>

            <div class = "col-md ml-5 mr-5">
                <div class="md-form mb-3 mt-3 mr-3 ">
                   <label for = "num_people" >Number of People</label>
                   <input id = "num_people" type = "number" placeholder = "Enter Number of People" class = "validate  col-md-auto" ng-model = "numPeople" min = '0' step='1' required />
                   <div class="invalid-feedback">
                        Enter a valid number.
                    </div>
                </div>
            </div>
        </div>
        <div class = "row justify-content-center ">
                <div class = "col-md w-100 justify-content-center ml-5 mr-5">

                    <div class="md-form mb-3 mt-3 ml-3  mr-3">
                        <label  class ="col-md-auto"> Choose date</label>
                        <input type = "date" class="datepicker" id = "dt_ev"   ng-model = "eventDate" class = "mdl-textfield__input active  col-md-auto" style = "width: 230px;" required  />
                        <div class="invalid-feedback">Enter a valid date.
                        </div>
                    </div>
                </div>
                <div class = "col-md w-100 ml-5 mr-5">
                     <div class="md-form  mb-3 mt-3 ml-5 mr-2">
                         <label for = "budget" class ="col-md-auto">Budget for the Event</label>
                         <input id = "budget" type = "number" placeholder = "Enter Budget of the Event" class = "validate  col-md-auto" required min = '0' ng-model = "eventBudget" ng-blur="getVenue()"  />
                         <div class="invalid-feedback">
                             Enter valid budget.
                         </div>
                     </div>
              </div>
              <div class = "col-md ">
              </div>

        </div>
        <div class = "row justify-content-center ">
                <div class="md-form mb-3 mt-3 ml-5 mr-5">
                    <label for = "description" class ="col-md-auto"> Descriptionfor the Event</label>
                    <textarea id = "description"  placeholder = "Enter description of the Event"  ng-model = "eventDescription" ng-blur="getValTA()"  style= " width: 450px;
  height: 100px;"></textarea>
                 <!-- <button type="button" class="mt-3 btn btn-info" data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next1</button> -->
                </div>
        </div>



    <!-- close first info -->
    <div class="row justify-content-between">
        <div class="col-md w-100">
            <div class="col-4">

            </div>
             <!-- <button type="button" class="mt-3 btn btn-info" data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next1</button> -->
        </div>
        <div class="d-flex w-100 justify-content-between">
            <div class="col-4">

            </div>
            <div class="d-flex w-100 justify-content-end">
                <div class="col-4">

                </div>
                <div class="col-4">
                    <button type="button" class=" mb-5 btn btn-info  " id="first_next" data-toggle="collapse"  aria-expanded="false" aria-controls="collapseExample">Next</button>

                </div>

            </div>
             <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
        </div>

    </div>

    <!-- close of first container -->
    </div>
    <div class = "row  mt-5 col-md-12 card " id = "second_info" style="display:none">
            <!-- padding -->
            <div class="row">
                <div class="col-md-12">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                </div>
            </div>

            <div class="row justify-content-center">
                <div class="col-md w-100">
                    <center><h1> Choose your Venue:</h1></center><br>
                </div>
            </div>

            <div class="row justify-content-center w-100" style="overflow-x:auto; height:300px;" >
              <div class="col-md">
                <table class="table " >
                  <thead>
                    <tr class = "w-100">

                      <th >Vendor</th>
                      <th >Description</th>
                      <th >Price</th>
                      <th> Book</th>
                    </tr>
                  </thead>

                  <tbody>


                    <tr class = "w-100" ng-repeat= "(venue,details) in venues">

                      <td ng-bind = "venue"></td>
                      <td ng-bind="details.description" style="word-wrap: break-word; width: 550px"></td>
                      <td ng-bind ="details.price"  > </td>
                      <td> <input type="radio"  name="venue" class="form-check-input"  ng-value="details.radio_value"  /></td>
                    </tr>

                  </tbody>
                </table>
              </div>
            </div>

            <div class="row justify-content-between">
                <!--Grid column-->
                <div class="d-flex w-100 justify-content-between">

                    <div class="d-flex col-4">
                        <div class="col-4">

                        </div>
                        <div class=" ">
                            <button type="button" class="mt-3 btn btn-info  " id="second_prev" data-toggle="collapse"  aria-expanded="false" aria-controls="collapseExample">Back</button>

                        </div>
                        <div class="col-4">

                        </div>

                    </div>
                    <div class="col-4">

                    </div>

                <div class="d-flex w-100 justify-content-between">

                    <div class="d-flex w-100 ">
                        <div class="col-4">

                        </div>

                        <div class="col-4">
                            <button type="button" class="mt-3 mb-3 btn btn-info  " id="second_next" ng-click="getDecorator()" data-toggle="collapse"  aria-expanded="false" aria-controls="collapseExample">Next</button>

                        </div>

                    </div>
                     <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
                </div>
                <div class="d-flex w-100">
                     <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
                </div>
                <!-- <div class="mt-2">
                     <button type="button" class="mt-3 btn btn-info" data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next3</button>
                </div> -->
                <!--Grid column-->
            </div>

                <!--Grid column-->
            </div>
            <div class="row">
                <div class="col-mb-12">
                </div>
            </div>
            <div class="row">
                <div class="col-mb-12">
                </div>
            </div>
        </div>
        <!-- the third part of the list -->
        <div class = "row  mt-5 col-md-12 card " id = "third_info" style="display:none">
                <!-- padding -->
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-md w-100">
                        <center><h1> Choose your Decorator:</h1></center><br>
                    </div>
                </div>

                <div class="row justify-content-center w-100" style="overflow-x:auto; height:300px;" >
                  <div class="col-md">
                    <table class="table " >
                      <thead>
                        <tr class = "w-100">

                          <th >Vendor</th>
                          <th >Description</th>
                          <th >Price</th>
                          <th> Book?</th>
                        </tr>
                      </thead>
                      <tbody>

                          <tr class = "w-100" ng-repeat= "(decor,details) in decors">

                            <td ng-bind = "decor"></td>
                            <td ng-bind="details.description" style="word-wrap: break-word; width: 550px"></td>
                            <td ng-bind ="details.price" > </td>
                            <td> <input type="radio" name="decor" class="form-check-input"  ng-value="details.radio_value" /></td>
                          </tr>


                      </tbody>
                    </table>
                  </div>
                </div>

                <div class="row justify-content-between">
                    <!--Grid column-->
                    <div class="d-flex w-100 justify-content-between">

                        <div class="d-flex col-4">
                            <div class="col-4">

                            </div>
                            <div class=" ">
                                <button type="button" class="mt-3 btn btn-info  " id="third_prev" data-toggle="collapse"  aria-expanded="false" aria-controls="collapseExample">Back</button>

                            </div>
                            <div class="col-4">

                            </div>

                        </div>
                        <div class="col-4">

                        </div>

                    <div class="d-flex w-100 justify-content-between">

                        <div class="d-flex w-100 ">
                            <div class="col-4">

                            </div>

                            <div class="col-4">
                                <button type="button" class="mt-3 mb-3 btn btn-info  " id="third_next" ng-click="getCaterer()" data-toggle="collapse"  aria-expanded="false" aria-controls="collapseExample">Next</button>

                            </div>

                        </div>
                         <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
                    </div>
                    <div class="d-flex w-100">
                         <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
                    </div>
                    <!-- <div class="mt-2">
                         <button type="button" class="mt-3 btn btn-info" data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next3</button>
                    </div> -->
                    <!--Grid column-->
                </div>

                    <!--Grid column-->
                </div>
                <div class="row">
                    <div class="col-mb-12">
                    </div>
                </div>
                <div class="row">
                    <div class="col-mb-12">
                    </div>
                </div>
            </div>

            <!-- end of third part -->

        <!-- start of forth part -->
        <div class = "row  mt-5 col-md-12 card " id = "forth_info" style="display:none">
                <!-- padding -->
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-md w-100">
                        <center><h1> Choose your Caterer:</h1></center><br>
                    </div>
                </div>

                <div class="row justify-content-center w-100" style="overflow-x:auto; height:300px;" >
                  <div class="col-md">
                    <table class="table " >
                      <thead>
                        <tr class = "w-100">

                          <th >Vendor</th>
                          <th >Description</th>
                          <th >Price</th>
                          <th> Book?</th>
                        </tr>
                      </thead>
                      <tbody>

                          <tr class = "w-100" ng-repeat= "(caterer,details) in caterers">

                            <td ng-bind = "caterer"></td>
                            <td ng-bind="details.description" style="word-wrap: break-word; width: 550px"></td>
                            <td ng-bind ="details.price"> </td>
                            <td> <input type="radio" name="caterer" class="form-check-input"  ng-value="details.radio_value"/></td>
                        </tr>

                      </tbody>


                    </table>
                  </div>
                </div>

                <div class="row justify-content-between">
                    <!--Grid column-->
                    <div class="d-flex w-100 justify-content-between">

                        <div class="d-flex col-4">
                            <div class="col-4">

                            </div>
                            <div class=" ">
                                <button type="button" class="mt-3 btn btn-info  " id="forth_prev" data-toggle="collapse"  aria-expanded="false" aria-controls="collapseExample">Back</button>

                            </div>
                            <div class="col-4">

                            </div>

                        </div>
                        <div class="col-4">

                        </div>

                    <div class="d-flex w-100 justify-content-between">

                        <div class="d-flex w-100 ">
                            <div class="col-4">

                            </div>

                            <div class="col-4">
                                <button type="button" class="mt-3 mb-3 btn btn-info  " id="forth_next" data-toggle="collapse" ng-click="setCaterer()" aria-expanded="false" aria-controls="collapseExample">Next</button>

                            </div>

                        </div>
                         <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
                    </div>
                    <div class="d-flex w-100">
                         <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
                    </div>
                    <!-- <div class="mt-2">
                         <button type="button" class="mt-3 btn btn-info" data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next3</button>
                    </div> -->
                    <!--Grid column-->
                </div>

                    <!--Grid column-->
                </div>
                <div class="row">
                    <div class="col-mb-12">
                    </div>
                </div>
                <div class="row">
                    <div class="col-mb-12">
                    </div>
                </div>
            </div>
            <!-- fifth part -->
            <div class = "row  mt-5 col-md-12 card " id = "fifth_info" style="display:none">
                    <!-- padding -->
                    <div class="row">
                        <div class="col-md-12">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                        </div>
                    </div>

                    <div class="row justify-content-center">
                        <div class="col-md w-100">
                            <center><h1> Confirm your booking</h1></center><br>
                        </div>
                    </div>


                    <div class="row justify-content-between">
                        <!--Grid column-->
                        <div class="d-flex w-100 justify-content-between">

                            <div class="d-flex col-4">
                                <div class="col-4">

                                </div>
                                <div class=" ">
                                    <button type="button" class="mt-3 btn btn-info  " id="fifth_prev" data-toggle="collapse"  aria-expanded="false" aria-controls="collapseExample">Back</button>

                                </div>
                                <div class="col-4">

                                </div>

                            </div>
                            <div class="col-4">

                            </div>

                        <div class="d-flex w-100 justify-content-between">

                            <div class="d-flex w-100 ">
                                <div class="col-4">

                                </div>

                                <div class="col-4">
                                    <button type="button" class="mt-3 mb-3 btn btn-info  " id="fifth_next" data-toggle="collapse"  ng-click="sendToServer()" aria-expanded="false" aria-controls="collapseExample">Confirm</button>
                                </form>
                                </div>

                            </div>
                             <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
                        </div>
                        <div class="d-flex w-100">
                             <!-- <button type="button" class="mt-3 btn btn-info " data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next2</button> -->
                        </div>
                        <!-- <div class="mt-2">
                             <button type="button" class="mt-3 btn btn-info" data-toggle="collapse" data-target="#uniqueEventId" aria-expanded="false" aria-controls="collapseExample">Next3</button>
                        </div> -->
                        <!--Grid column-->
                    </div>

                        <!--Grid column-->
                    </div>
                    <div class="row">
                        <div class="col-mb-12">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-mb-12">
                        </div>
                    </div>
                </div>
                <div class = "row  mt-5 col-md-12 card " id = "sixth_info" style="display:none">
                        <!-- padding -->
                        <div class="row">
                            <div class="col-md-12">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                            </div>
                        </div>

                        <div class="row justify-content-center">
                            <div class="col-md w-100">
                                <center><h1> Your event has been created.</h1></center><br>
                            </div>
                        </div>
                </div>





<!-- close container -->
</div>

{% endblock %}
{%  block script %}
<script>
var today = new Date();
var dd = today.getDate();
var mm = today.getMonth()+1; //January is 0!
var yyyy = today.getFullYear();
 if(dd<10){
        dd='0'+dd
    }
    if(mm<10){
        mm='0'+mm
    }

today = yyyy+'-'+mm+'-'+dd;
document.getElementById("dt_ev").setAttribute("min", today);
</script>
<script src = "{{ url_for('static', filename = 'js/create_event.js') }}"></script>
<script src = "{{ url_for('static', filename = 'js/create_event_2.js') }}"></script>
{% endblock %}
